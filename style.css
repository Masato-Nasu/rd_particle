:root{
  --bg:#0b0f14; --panel:#111827cc; --text:#e5e7eb;
  --accent:#7dd3fc; --accent2:#a78bfa;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
.toolbar{position:fixed;inset:0 0 auto 0;height:48px;display:flex;align-items:center;gap:8px;padding:0 12px;background:var(--panel);backdrop-filter:blur(8px);z-index:10;border-bottom:1px solid #1f2937}
.toolbar .brand{font-weight:700;letter-spacing:.08em}
.toolbar .spacer{flex:1}
.toolbar button{appearance:none;border:1px solid #374151;background:#111827;color:var(--text);padding:6px 10px;border-radius:10px;cursor:pointer}
.toolbar button:hover{border-color:#4b5563}
.stage{position:fixed;inset:48px 0 32px 0;display:grid;place-items:center}
#view{image-rendering:pixelated;outline:none;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.4)}
.hint{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);font-size:12px;opacity:.7;background:#0008;padding:4px 8px;border-radius:8px}
.footer{position:fixed;inset:auto 0 0 0;height:32px;display:grid;place-items:center;background:transparent;color:#9ca3af}
/* Responsive square fit */
.stage{--simW:256; --simH:256}
#view{width:min(90vmin, calc(100vw - 24px));height:auto;aspect-ratio:1/1;max-height:calc(100vh - 48px - 32px - 24px)}
@supports not (aspect-ratio: 1/1){
  /* Fallback: JS sets size; this keeps layout stable */
  #view{width:90vmin;height:90vmin}
}
